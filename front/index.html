<!doctype html>
<html lang="en" class="h-100">
  <head>
    <title>unmdbify</title>
    
    <link href="assets/css/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/main.css" rel="stylesheet">

    <script src="https://kit.fontawesome.com/0cccb5df01.js" crossorigin="anonymous"></script>

  </head>

  <body class="bg-dark">
    
    <div class="container mt-3">
      <h1 class="text-light"><i class="fas fa-record-vinyl"></i> MDB Converter Machine</h1>
      <h3 id="sessionDetails" class="d-none">
        <span id="sessionIdTitle" class="text-info">Session id: <strong></strong></span>
      </h3>

      <div class="border border-light bg-light rounded p-3">

        <h4><i class="fas fa-upload"></i> Upload</h4>
        <div id="uploadContainer">
          <div id="uploadError" class="alert alert-danger d-none" role="alert">
            <h4 class="alert-heading">Oh shit!</h4>
            <p>Something went wrong with the file upload. This is what the server said:</p>
            <hr>
            <p class="mb-0"><pre><code class="serverMessage"></code></pre></p>
          </div>

          <form id="uploader">
            <div class="mb-3">
              <input class="form-control" 
                     type="file" 
                     name="uploadedFiles" 
                     id="inputFiles" 
                     multiple 
                     required />
            </div>

            <button type="submit" class="btn btn-primary">Upload</button>
          </form>
        </div>

        <div id="progressContainer">
          <div class="progress d-none" id="uploadProgress">
            <div class="progress-bar progress-bar-striped progress-bar-animated" 
                 role="progressbar">
            </div>
          </div>
        </div>

      </div>

      <div id="analyzingPanel" class="border d-none border-light bg-light rounded p-3 mt-3">
        <h4><i class="fas fa-hdd"></i> Analysis</h4>

          <div id="analysisError" class="alert alert-danger d-none" role="alert">
            <h4 class="alert-heading">Oh shit!</h4>
            <p>Couldn't analyze those files. This is what the server said:</p>
            <hr>
            <p class="mb-0"><pre><code class="serverMessage"></code></pre></p>
          </div>

        <div class="text-center">
          <div class="spinner-border text-info" style="width: 3rem; height: 3rem;" role="status"></div>
          <div class="text-success d-none"><h1><i class="fas fa-check-circle"></i></h1></div>
        </div>
      </div>

      <div id="csvPanel" class="d-none border border-light bg-light rounded p-3 mt-3">
        <h4><i class="fas fa-folder-open"></i> Files</h4>

        <table id="csvTable" class="table table-striped table-hover">
          <thead>
            <tr>
              <th>Name</th>
              <th>Status</th>
              <th>Inferred Schema</th>
              <th>Downloads</th>
            </tr>
          </thead>
          <tbody class="mainTableBody">
          </tbody>
        </table>
      </div>

    </div>

  </body>

  <script src="assets/js/jquery-3.5.1.min.js"></script>
  <script src="assets/js/main.js"></script>
</html>
